(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{1049:function(s,t,a){"use strict";var e=a(739);a.n(e).a},1051:function(s,t,a){"use strict";var e=a(740);a.n(e).a},1053:function(s,t){},1054:function(s,t,a){"use strict";var e=a(741);a.n(e).a},1555:function(s,t,a){"use strict";a.r(t);var e=function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("article",{staticClass:"content post"},[s._m(0),s._v(" "),s._m(1),s._v(" "),s._m(2),s._v(" "),s._m(3),s._v(" "),a("h2",{attrs:{id:"使用"}},[s._v("使用")]),s._v(" "),s._m(4),s._v(" "),s._m(5),s._v(" "),s._m(6),s._v(" "),a("h3",{attrs:{id:"兼容性"}},[s._v("兼容性")]),s._v(" "),s._m(7),s._v(" "),s._m(8),s._v(" "),s._m(9),s._v(" "),a("h2",{attrs:{id:"示例"}},[s._v("示例")]),s._v(" "),a("one-demo",[a("one-demo-6f37b9b"),a("template",{slot:"source"},[a("div",{pre:!0},[a("pre",[a("code",{attrs:{class:"hljs language-vue"}},[a("span",{attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),a("span",{attrs:{class:"html"}},[s._v("\n"),a("span",{attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{attrs:{class:"hljs-name"}},[s._v("article")]),s._v(">")]),s._v("\n  "),a("span",{attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{attrs:{class:"hljs-name"}},[s._v("p")]),s._v(">")]),a("span",{attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{attrs:{class:"hljs-name"}},[s._v("button")]),s._v(">")]),s._v(":focus"),a("span",{attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{attrs:{class:"hljs-name"}},[s._v("button")]),s._v(">")]),s._v(" 聚焦样式在点击、键盘导航时均展现"),a("span",{attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{attrs:{class:"hljs-name"}},[s._v("p")]),s._v(">")]),s._v("\n  "),a("span",{attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{attrs:{class:"hljs-name"}},[s._v("p")]),s._v(">")]),a("span",{attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{attrs:{class:"hljs-name"}},[s._v("button")]),s._v(" "),a("span",{attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),a("span",{attrs:{class:"hljs-string"}},[s._v('"special"')]),s._v(">")]),s._v(".focus-visible"),a("span",{attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{attrs:{class:"hljs-name"}},[s._v("button")]),s._v(">")]),s._v(" 聚焦样式仅在键盘导航时展现"),a("span",{attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{attrs:{class:"hljs-name"}},[s._v("p")]),s._v(">")]),s._v("\n"),a("span",{attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{attrs:{class:"hljs-name"}},[s._v("article")]),s._v(">")]),s._v("\n")]),a("span",{attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{attrs:{class:"hljs-name"}},[s._v("template")]),s._v(">")]),s._v("\n\n"),a("span",{attrs:{class:"hljs-tag"}},[s._v("<"),a("span",{attrs:{class:"hljs-name"}},[s._v("style")]),s._v(" "),a("span",{attrs:{class:"hljs-attr"}},[s._v("lang")]),s._v("="),a("span",{attrs:{class:"hljs-string"}},[s._v('"less"')]),s._v(" "),a("span",{attrs:{class:"hljs-attr"}},[s._v("scoped")]),s._v(">")]),a("span",{attrs:{class:"stylus"}},[s._v("\n"),a("span",{attrs:{class:"hljs-selector-tag"}},[s._v("button")]),s._v(" {\n  &:focus {\n    "),a("span",{attrs:{class:"hljs-attribute"}},[s._v("outline")]),s._v(": "),a("span",{attrs:{class:"hljs-number"}},[s._v("2px")]),s._v(" solid "),a("span",{attrs:{class:"hljs-number"}},[s._v("#eee")]),s._v(";\n  }\n}\n\n"),a("span",{attrs:{class:"hljs-selector-class"}},[s._v(".special")]),s._v(" {\n  &:focus {\n    "),a("span",{attrs:{class:"hljs-attribute"}},[s._v("outline")]),s._v(": none;\n  }\n\n  &"),a("span",{attrs:{class:"hljs-selector-class"}},[s._v(".focus-visible")]),s._v(" {\n    "),a("span",{attrs:{class:"hljs-attribute"}},[s._v("outline")]),s._v(": "),a("span",{attrs:{class:"hljs-number"}},[s._v("2px")]),s._v(" solid "),a("span",{attrs:{class:"hljs-number"}},[s._v("#eee")]),s._v(";\n  }\n}\n")]),a("span",{attrs:{class:"hljs-tag"}},[s._v("</"),a("span",{attrs:{class:"hljs-name"}},[s._v("style")]),s._v(">")])])])])]),a("template",{slot:"desc"},[a("p",[s._v("本例非 ONE DESIGN 样式，仅作为示例。需注意对 "),a("code",[s._v(":focus-visible")]),s._v(" 的处理在 Firefox 和 Safari 下无效，目前在这两个浏览器下点击不会使按钮处于 "),a("code",[s._v(":focus")]),s._v(" 状态。")])])],2)],1)};e._withStripped=!0;var l=function(){var s=this.$createElement;this._self._c;return this._m(0)};l._withStripped=!0;a(1049),a(1051);var n=a(1),c=a(1053),i=a.n(c),r=Object(n.a)({},l,[function(){var s=this.$createElement,t=this._self._c||s;return t("article",[t("p",[t("button",[this._v(":focus")]),this._v(" 聚焦样式在点击、键盘导航时均展现")]),this._v(" "),t("p",[t("button",{staticClass:"special"},[this._v(".focus-visible")]),this._v(" 聚焦样式仅在键盘导航时展现")])])}],!1,null,"22545fa0",null);"function"==typeof i.a&&i()(r);var v={components:{"one-demo-6f37b9b":r.exports,OneDemo:a(442).a}},_=(a(1054),Object(n.a)(v,e,[function(){var s=this.$createElement,t=this._self._c||s;return t("h1",{attrs:{id:"focus-visible"}},[t("code",[this._v(":focus-visible")])])},function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("p",[s._v("通常我们会为交互元素定义 "),a("code",[s._v(":focus")]),s._v(" 状态下的样式，以增强键盘可访问性。但在使用鼠标进行点击时，多数浏览器会使 "),a("code",[s._v("<button>")]),s._v(" 等元素处于 "),a("code",[s._v(":focus")]),s._v(" 状态。在多个按钮并列时，这容易使人产生「按钮被选中」的错觉。"),a("a",{attrs:{href:"https://drafts.csswg.org/selectors-4/#the-focusvisible-pseudo"}},[s._v("CSS Selectors Level 4 草案中的 "),a("code",[s._v(":focus-visible")]),s._v(" 伪类选择器")]),s._v("为我们提供了选择更精确的聚焦状态的能力。")])},function(){var s=this.$createElement,t=this._self._c||s;return t("p",[this._v("Chrome 浏览器在默认状态下对 "),t("code",[this._v("<button>")]),this._v(" 元素就有类似的处理。")])},function(){var s=this.$createElement,t=this._self._c||s;return t("blockquote",[t("p",[t("a",{attrs:{href:"https://github.com/WICG/focus-visible/blob/master/explainer.md"}},[t("code",[this._v(":focus-visible")]),this._v(" 详细说明")])])])},function(){var s=this.$createElement,t=this._self._c||s;return t("p",[this._v("VEUI 的默认主题包 veui-theme-one 依赖 "),t("code",[this._v(":focus-visible")]),this._v(" 的 polyfill 才能提供最好的交互效果。使用时，需要自行在项目中进行引入：")])},function(){var s=this.$createElement,t=this._self._c||s;return t("pre",[t("code",{staticClass:"hljs language-js"},[t("span",{staticClass:"hljs-keyword"},[this._v("import")]),this._v(" "),t("span",{staticClass:"hljs-string"},[this._v("'focus-visible'")])])])},function(){var s=this.$createElement,t=this._self._c||s;return t("p",[this._v("严格来说 focus-visible 不能算一个真正的“polyfill”，因为在样式中我们无法直接使用 "),t("code",[this._v(":focus-visible")]),this._v(" 这个伪类，而需要针对 "),t("code",[this._v(".focus-visible")]),this._v(" 这个类编写样式。编写自定义样式时也需要注意这一点。")])},function(){var s=this.$createElement,t=this._self._c||s;return t("p",[this._v("当需要支持 IE9 时，由于 WICG 的 polyfill 不会自行引入其它 polyfill，故还需要引入 "),t("code",[this._v("classList")]),this._v(" 的兼容脚本（需自行安装）：")])},function(){var s=this.$createElement,t=this._self._c||s;return t("pre",[t("code",{staticClass:"hljs language-shell"},[t("span",{staticClass:"hljs-meta"},[this._v("$")]),t("span",{staticClass:"bash"},[this._v(" npm i --save classlist-polyfill")])])])},function(){var s=this.$createElement,t=this._self._c||s;return t("pre",[t("code",{staticClass:"hljs language-js"},[t("span",{staticClass:"hljs-keyword"},[this._v("import")]),this._v(" "),t("span",{staticClass:"hljs-string"},[this._v("'classlist-polyfill'")])])])}],!1,null,"35195a2a",null));t.default=_.exports},437:function(s,t,a){},438:function(s,t,a){"use strict";a(55).a.register({"angle-right-small":{width:"12",height:"12",paths:[{d:"M7.62 6L4.43 2.8l.8-.8 3.98 3.97-.02.03.02.02-3.98 3.97-.8-.8 3.2-3.2z","fill-rule":"evenodd"}]}})},442:function(s,t,a){"use strict";var e=function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("article",{staticClass:"one-demo",class:{expanded:s.localExpanded}},[a("section",{staticClass:"demo"},[s._t("default")],2),s._v(" "),s.$slots.desc?a("section",{staticClass:"desc"},[s._t("desc")],2):s._e(),s._v(" "),s.$slots.source?a("section",{ref:"source",staticClass:"source",style:{height:s.localExpanded?(s.sourceHeight||0)+"px":"0"}},[s._t("source")],2):s._e(),s._v(" "),a("button",{staticClass:"toggle",on:{click:function(t){s.localExpanded=!s.localExpanded}}},[a("veui-icon",{staticClass:"arrow",attrs:{name:"angle-right-small"}}),s._v(" "+s._s(s.localExpanded?"隐藏代码":"显示代码"))],1)])};e._withStripped=!0;var l=a(55),n=(a(438),{name:"one-demo",components:{"veui-icon":l.a},props:{expanded:Boolean},data:function(){return{sourceHeight:0,localExpanded:this.expanded}},watch:{expanded:function(s){this.localExpanded=s},localExpanded:function(s){this.$emit("update:expanded",s)}},mounted:function(){var s=this.$refs.source,t=s.style;t.height="",t.height=s.offsetHeight,this.sourceHeight=s.offsetHeight,t.height="0"}}),c=(a(443),a(1)),i=Object(c.a)(n,e,[],!1,null,"60514566",null);t.a=i.exports},443:function(s,t,a){"use strict";var e=a(437);a.n(e).a},739:function(s,t,a){},740:function(s,t,a){},741:function(s,t,a){}}]);